<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mxhid-WebsiteMaker</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #1e1e2f, #3a3a5a);
            overflow-x: hidden;
            color: #e0e0e0;
        }
        .container {
            display: flex;
            min-height: 100vh;
            position: relative;
        }
        .sidebar {
            width: 350px;
            background: #1e1e2f;
            padding: 30px;
            box-shadow: 5px 0 15px rgba(0,0,0,0.3);
            z-index: 2;
            transition: transform 0.3s ease;
        }
        .sidebar:hover {
            transform: translateX(10px);
        }
        .sidebar h2 {
            font-size: 2em;
            color: #64b5f6;
            text-shadow: 0 0 10px #64b5f6;
            margin-bottom: 20px;
        }
        .sidebar label {
            font-size: 0.9em;
            margin: 10px 0 5px;
            color: #bbdefb;
        }
        .sidebar select, .sidebar input, .sidebar textarea, .sidebar button {
            width: 100%;
            padding: 12px;
            margin: 5px 0 15px;
            border: none;
            border-radius: 8px;
            font-size: 0.9em;
            transition: all 0.3s ease;
        }
        .sidebar select, .sidebar input, .sidebar textarea {
            background: #2a2a3b;
            color: #e0e0e0;
        }
        .sidebar select:focus, .sidebar input:focus, .sidebar textarea:focus {
            outline: none;
            box-shadow: 0 0 8px #64b5f6;
        }
        .sidebar button {
            background: linear-gradient(45deg, #64b5f6, #42a5f5);
            color: #fff;
            cursor: pointer;
            font-weight: 600;
        }
        .sidebar button:hover {
            background: linear-gradient(45deg, #42a5f5, #2196f3);
            transform: scale(1.05);
        }
        .main-content {
            flex-grow: 1;
            padding: 40px;
            z-index: 1;
        }
        .preview {
            border-radius: 15px;
            min-height: 600px;
            padding: 40px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.2);
            transition: transform 0.5s ease, background 0.3s ease;
            animation: fadeIn 1s ease;
        }
        .preview:hover {
            transform: scale(1.02);
        }
        .ai-chat {
            margin-top: 40px;
            border-radius: 15px;
            padding: 30px;
            background: #fff;
            box-shadow: 0 8px 30px rgba(0,0,0,0.2);
            animation: slideUp 0.8s ease;
        }
        .ai-chat h2 {
            color: #1e1e2f;
            margin-bottom: 20px;
        }
        .ai-chat textarea {
            width: 100%;
            height: 150px;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            resize: vertical;
            font-size: 0.9em;
        }
        .ai-response {
            margin-top: 15px;
            padding: 20px;
            background: #f5f5f5;
            border-radius: 8px;
            max-height: 300px;
            overflow-y: auto;
            font-size: 0.9em;
            animation: fadeIn 0.5s ease;
        }
        .footer {
            text-align: center;
            padding: 20px;
            background: #1e1e2f;
            color: #e0e0e0;
            position: fixed;
            bottom: 0;
            width: 100%;
            z-index: 1;
            box-shadow: 0 -5px 15px rgba(0,0,0,0.3);
        }
        #particles-js {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }
        .color-palette {
            display: flex;
            gap: 10px;
            margin: 10px 0;
        }
        .color-swatch {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        .color-swatch:hover {
            transform: scale(1.2);
        }
        .template-preview {
            display: flex;
            gap: 15px;
            margin: 15px 0;
        }
        .template-option {
            width: 80px;
            height: 80px;
            background: #2a2a3b;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        .template-option:hover {
            transform: scale(1.1);
        }
        .template-option.active {
            border: 2px solid #64b5f6;
        }
        /* Theme Styles */
        .theme-light {
            background: #ffffff;
            color: #333333;
            font-family: 'Poppins', sans-serif;
        }
        .theme-dark {
            background: #121212;
            color: #e0e0e0;
            font-family: 'Inconsolata', monospace;
        }
        .theme-modern {
            background: #e3f2fd;
            color: #1e1e2f;
            font-family: 'Roboto', sans-serif;
        }
        .theme-vibrant {
            background: linear-gradient(45deg, #ff6b6b, #ffe66d);
            color: #1a1a1a;
            font-family: 'Montserrat', sans-serif;
        }
        .theme-minimal {
            background: #f7f7f7;
            color: #4a4a4a;
            font-family: 'Lora', serif;
        }
        .theme-retro {
            background: #232323;
            color: #00ffcc;
            font-family: 'VT323', monospace;
        }
        .theme-cosmic {
            background: linear-gradient(135deg, #0d1b2a, #1b263b);
            color: #e0e0e0;
            font-family: 'Orbitron', sans-serif;
        }
        .theme-nature {
            background: linear-gradient(45deg, #4caf50, #a5d6a7);
            color: #1a1a1a;
            font-family: 'Merriweather', serif;
        }
        .theme-cyberpunk {
            background: #1a0a2a;
            color: #ff00ff;
            font-family: 'Chakra Petch', sans-serif;
            text-shadow: 0 0 5px #ff00ff;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes slideUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Inconsolata&family=Roboto:wght@400;700&family=Montserrat:wght@500&family=Lora&family=VT323&family=Orbitron&family=Merriweather&family=Chakra+Petch&display=swap" rel="stylesheet">
</head>
<body>
    <div id="particles-js"></div>
    <div class="container">
        <div class="sidebar">
            <h2>Mxhid-WebsiteMaker</h2>
            <label for="theme">Choose Theme:</label>
            <select id="theme" onchange="applyTheme()">
                <option value="light">Light</option>
                <option value="dark">Dark</option>
                <option value="modern">Modern</option>
                <option value="vibrant">Vibrant</option>
                <option value="minimal">Minimal</option>
                <option value="retro">Retro</option>
                <option value="cosmic">Cosmic</option>
                <option value="nature">Nature</option>
                <option value="cyberpunk">Cyberpunk</option>
            </select>
            <label for="template">Choose Template:</label>
            <div class="template-preview">
                <div class="template-option" data-template="basic" onclick="selectTemplate('basic')"></div>
                <div class="template-option" data-template="portfolio" onclick="selectTemplate('portfolio')"></div>
                <div class="template-option" data-template="blog" onclick="selectTemplate('blog')"></div>
            </div>
            <label for="title">Website Title:</label>
            <input type="text" id="title" placeholder="Enter title" oninput="updatePreview()">
            <label for="content">Content:</label>
            <textarea id="content" rows="5" placeholder="Enter content" oninput="updatePreview()"></textarea>
            <label for="font-size">Font Size (px):</label>
            <input type="number" id="font-size" value="16" min="10" max="40" oninput="updatePreview()">
            <label for="bg-color">Background Color:</label>
            <input type="color" id="bg-color" value="#ffffff" oninput="updatePreview()">
            <label>Color Palette:</label>
            <div class="color-palette">
                <div class="color-swatch" style="background: #64b5f6" onclick="setBgColor('#64b5f6')"></div>
                <div class="color-swatch" style="background: #ff6b6b" onclick="setBgColor('#ff6b6b')"></div>
                <div class="color-swatch" style="background: #ffe66d" onclick="setBgColor('#ffe66d')"></div>
                <div class="color-swatch" style="background: #4caf50" onclick="setBgColor('#4caf50')"></div>
            </div>
            <label for="bg-image">Background Image:</label>
            <input type="file" id="bg-image" accept="image/*" onchange="uploadBgImage()">
            <label for="text-align">Text Alignment:</label>
            <select id="text-align" onchange="updatePreview()">
                <option value="left">Left</option>
                <option value="center">Center</option>
                <option value="right">Right</option>
            </select>
            <label for="add-button">Add Button (Text):</label>
            <input type="text" id="add-button" placeholder="Button text" oninput="updatePreview()">
            <button onclick="saveDesign()">Save Design</button>
            <button onclick="loadDesign()">Load Design</button>
            <button onclick="downloadHTML()">Download Website</button>
        </div>
        <div class="main-content">
            <h1>Preview</h1>
            <div class="preview" id="preview">
                <h1 id="preview-title">Your Website Title</h1>
                <p id="preview-content">Your website content goes here.</p>
                <button id="preview-button" style="display: none; padding: 12px 24px; background: #64b5f6; color: #fff; border: none; border-radius: 8px; cursor: pointer; transition: transform 0.3s ease;" onmouseover="this.style.transform='scale(1.1)'" onmouseout="this.style.transform='scale(1)'"></button>
            </div>
            <div class="ai-chat">
                <h2>AI Website Building Assistant</h2>
                <textarea id="ai-input" placeholder="Ask for website building tips (e.g., 'How to design a homepage')"></textarea>
                <button onclick="sendAIRequest()">Ask AI</button>
                <div class="ai-response" id="ai-response">AI response will appear here.</div>
            </div>
        </div>
    </div>
    <div class="footer">
        <p>Credits: mxhid_dll | Mxhid-WebsiteMaker</p>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    <script>
        particlesJS('particles-js', {
            particles: {
                number: { value: 120, density: { enable: true, value_area: 800 } },
                color: { value: ['#64b5f6', '#ff6b6b', '#ffe66d', '#4caf50'] },
                shape: { type: ['circle', 'triangle', 'star', 'polygon'] },
                opacity: { value: 0.7, random: true },
                size: { value: 5, random: true },
                line_linked: { enable: true, distance: 100, color: '#64b5f6', opacity: 0.4, width: 1.5 },
                move: { enable: true, speed: 5, direction: 'none', random: true, straight: false, out_mode: 'out' }
            },
            interactivity: {
                detect_on: 'canvas',
                events: { onhover: { enable: true, mode: 'grab' }, onclick: { enable: true, mode: 'push' }, resize: true },
                modes: { grab: { distance: 150, line_linked: { opacity: 0.6 } }, push: { particles_nb: 6 } }
            },
            retina_detect: true
        });

        let bgImageUrl = '';

        function applyTheme() {
            const theme = document.getElementById('theme').value;
            const preview = document.getElementById('preview');
            preview.className = 'preview theme-' + theme;
            updatePreview();
        }

        function selectTemplate(template) {
            const titleInput = document.getElementById('title');
            const contentInput = document.getElementById('content');
            if (template === 'basic') {
                titleInput.value = 'Welcome to My Site';
                contentInput.value = 'This is a simple website created with Mxhid-WebsiteMaker!';
            } else if (template === 'portfolio') {
                titleInput.value = 'My Portfolio';
                contentInput.value = 'Showcasing my best work and projects.';
            } else if (template === 'blog') {
                titleInput.value = 'My Blog';
                contentInput.value = 'Read my latest thoughts and insights.';
            }
            document.querySelectorAll('.template-option').forEach(opt => opt.classList.remove('active'));
            document.querySelector(`.template-option[data-template="${template}"]`).classList.add('active');
            updatePreview();
        }

        function setBgColor(color) {
            document.getElementById('bg-color').value = color;
            updatePreview();
        }

        function uploadBgImage() {
            const file = document.getElementById('bg-image').files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    bgImageUrl = e.target.result;
                    updatePreview();
                };
                reader.readAsDataURL(file);
            }
        }

        function updatePreview() {
            const title = document.getElementById('title').value || 'Your Website Title';
            const content = document.getElementById('content').value || 'Your website content goes here.';
            const fontSize = document.getElementById('font-size').value || 16;
            const bgColor = document.getElementById('bg-color').value;
            const textAlign = document.getElementById('text-align').value;
            const buttonText = document.getElementById('add-button').value;
            const preview = document.getElementById('preview');
            const previewButton = document.getElementById('preview-button');

            document.getElementById('preview-title').innerText = title;
            document.getElementById('preview-content').innerText = content;
            preview.style.fontSize = fontSize + 'px';
            preview.style.textAlign = textAlign;
            preview.style.background = bgImageUrl ? `url(${bgImageUrl}) center/cover no-repeat` : bgColor;

            if (buttonText) {
                previewButton.style.display = 'block';
                previewButton.innerText = buttonText;
            } else {
                previewButton.style.display = 'none';
            }
        }

        async function sendAIRequest() {
            const input = document.getElementById('ai-input').value;
            const responseDiv = document.getElementById('ai-response');
            if (!input) {
                responseDiv.innerText = 'Please enter a question or prompt.';
                return;
            }
            responseDiv.innerText = 'Loading...';
            try {
                const response = await fetch('https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=AIzaSyAOFcxNLYqeucx8lTiNO7AwLB0WvtKyyxs', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: input + " Provide detailed tips for building websites." }] }]
                    })
                });
                const data = await response.json();
                const text = data.candidates[0].content.parts[0].text;
                responseDiv.innerText = text;
            } catch (error) {
                responseDiv.innerText = 'Error: Could not fetch AI response. Please try again.';
                console.error(error);
            }
        }

        function saveDesign() {
            const design = {
                theme: document.getElementById('theme').value,
                title: document.getElementById('title').value,
                content: document.getElementById('content').value,
                fontSize: document.getElementById('font-size').value,
                bgColor: document.getElementById('bg-color').value,
                textAlign: document.getElementById('text-align').value,
                buttonText: document.getElementById('add-button').value,
                bgImage: bgImageUrl
            };
            localStorage.setItem('websiteDesign', JSON.stringify(design));
            alert('Design saved!');
        }

        function loadDesign() {
            const design = JSON.parse(localStorage.getItem('websiteDesign'));
            if (design) {
                document.getElementById('theme').value = design.theme;
                document.getElementById('title').value = design.title;
                document.getElementById('content').value = design.content;
                document.getElementById('font-size').value = design.fontSize;
                document.getElementById('bg-color').value = design.bgColor;
                document.getElementById('text-align').value = design.textAlign;
                document.getElementById('add-button').value = design.buttonText;
                bgImageUrl = design.bgImage;
                applyTheme();
                updatePreview();
                alert('Design loaded!');
            } else {
                alert('No saved design found.');
            }
        }

        function downloadHTML() {
            const title = document.getElementById('title').value || 'My Website';
            const content = document.getElementById('content').value || 'Welcome to my website!';
            const theme = document.getElementById('theme').value;
            const fontSize = document.getElementById('font-size').value || 16;
            const bgColor = document.getElementById('bg-color').value;
            const textAlign = document.getElementById('text-align').value;
            const buttonText = document.getElementById('add-button').value;

            let themeStyles = '';
            let bgStyle = bgImageUrl ? `background: url(${bgImageUrl}) center/cover no-repeat;` : `background: ${bgColor};`;
            if (theme === 'light') {
                themeStyles = `font-family: 'Poppins', sans-serif; color: #333333;`;
            } else if (theme === 'dark') {
                themeStyles = `font-family: 'Inconsolata', monospace; color: #e0e0e0;`;
                bgStyle = `background: #121212;`;
            } else if (theme === 'modern') {
                themeStyles = `font-family: 'Roboto', sans-serif; color: #1e1e2f;`;
                bgStyle = `background: #e3f2fd;`;
            } else if (theme === 'vibrant') {
                themeStyles = `font-family: 'Montserrat', sans-serif; color: #1a1a1a;`;
                bgStyle = `background: linear-gradient(45deg, #ff6b6b, #ffe66d);`;
            } else if (theme === 'minimal') {
                themeStyles = `font-family: 'Lora', serif; color: #4a4a4a;`;
                bgStyle = `background: #f7f7f7;`;
            } else if (theme === 'retro') {
                themeStyles = `font-family: 'VT323', monospace; color: #00ffcc;`;
                bgStyle = `background: #232323;`;
            } else if (theme === 'cosmic') {
                themeStyles = `font-family: 'Orbitron', sans-serif; color: #e0e0e0;`;
                bgStyle = `background: linear-gradient(135deg, #0d1b2a, #1b263b);`;
            } else if (theme === 'nature') {
                themeStyles = `font-family: 'Merriweather', serif; color: #1a1a1a;`;
                bgStyle = `background: linear-gradient(45deg, #4caf50, #a5d6a7);`;
            } else if (theme === 'cyberpunk') {
                themeStyles = `font-family: 'Chakra Petch', sans-serif; color: #ff00ff; text-shadow: 0 0 5px #ff00ff;`;
                bgStyle = `background: #1a0a2a;`;
            }

            const buttonHtml = buttonText ? `<button style="padding: 12px 24px; background: #64b5f6; color: #fff; border: none; border-radius: 8px; cursor: pointer;">${buttonText}</button>` : '';

            const htmlContent = `
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${title}</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            ${bgStyle}
            ${themeStyles}
            font-size: ${fontSize}px;
            text-align: ${textAlign};
        }
        .container {
            max-width: 800px;
            margin: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>${title}</h1>
        <p>${content}</p>
        ${buttonHtml}
    </div>
</body>
</html>`;

            const blob = new Blob([htmlContent], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'my-website.html';
            a.click();
            URL.revokeObjectURL(url);
        }

        // Initialize
        applyTheme();
        updatePreview();
    </script>
</body>
</html>
